-- 1. Criando o Banco de Dados
CREATE DATABASE SistemaAcademico;
USE SistemaAcademico;

-- 2. Criando as Tabelas
CREATE TABLE Estudantes (
    estudante_id INT AUTO_INCREMENT PRIMARY KEY,
    nome_estudante VARCHAR(50),
    idade_estudante INT,
    cidade_estudante VARCHAR(50)
);

CREATE TABLE Disciplinas (
    disciplina_id INT AUTO_INCREMENT PRIMARY KEY,
    nome_disciplina VARCHAR(50),
    carga_horas INT
);

CREATE TABLE Inscricoes (
    inscricao_id INT AUTO_INCREMENT PRIMARY KEY,
    estudante_id INT,
    disciplina_id INT,
    data_inscricao DATE,
    FOREIGN KEY (estudante_id) REFERENCES Estudantes(estudante_id),
    FOREIGN KEY (disciplina_id) REFERENCES Disciplinas(disciplina_id)
);

-- 3. Inserindo Dados
INSERT INTO Estudantes (nome_estudante, idade_estudante, cidade_estudante) VALUES
('Maria Silva', 20, 'São Paulo'),
('João Santos', 22, 'Rio de Janeiro'),
('Ana Souza', 19, 'Belo Horizonte'),
('Carlos Pereira', 25, 'Curitiba');

INSERT INTO Disciplinas (nome_disciplina, carga_horas) VALUES
('Banco de Dados', 40),
('Lógica de Programação', 60),
('Desenvolvimento Web', 80);

INSERT INTO Inscricoes (estudante_id, disciplina_id, data_inscricao) VALUES
(1, 1, '2024-02-15'),
(2, 2, '2024-03-10'),
(3, 1, '2024-04-05'),
(4, 3, '2024-05-20');

-- Buscar todos os estudantes
SELECT * FROM Estudantes;

-- Buscar apenas nomes e cidades
SELECT nome_estudante, cidade_estudante FROM Estudantes;

-- Estudantes com mais de 20 anos
SELECT nome_estudante, idade_estudante 
FROM Estudantes 
WHERE idade_estudante > 20;

-- Estudantes de uma cidade específica
SELECT nome_estudante, cidade_estudante 
FROM Estudantes 
WHERE cidade_estudante = 'São Paulo';

-- Disciplinas com carga horária menor que 70
SELECT nome_disciplina, carga_horas 
FROM Disciplinas 
WHERE carga_horas < 70;

-- Consulta relacionando tabelas
SELECT Estudantes.nome_estudante AS Nome_Estudante, 
       Disciplinas.nome_disciplina AS Disciplina
FROM Estudantes, Disciplinas, Inscricoes
WHERE Estudantes.estudante_id = Inscricoes.estudante_id
AND Disciplinas.disciplina_id = Inscricoes.disciplina_id;

-- Estudantes maiores de 20 anos e de São Paulo
SELECT nome_estudante, idade_estudante, cidade_estudante 
FROM Estudantes
WHERE idade_estudante > 20 AND cidade_estudante = 'São Paulo';

-- Disciplinas de 40 ou 80 horas
SELECT nome_disciplina 
FROM Disciplinas
WHERE carga_horas = 40 OR carga_horas = 80;

-- Estudantes que moram em Curitiba
SELECT * 
FROM Estudantes 
WHERE cidade_estudante = 'Curitiba';

-- Nome e idade dos estudantes com menos de 22 anos
SELECT nome_estudante, idade_estudante 
FROM Estudantes 
WHERE idade_estudante < 22;

-- Nome do estudante e disciplina matriculada
SELECT Estudantes.nome_estudante, Disciplinas.nome_disciplina
FROM Estudantes, Disciplinas, Inscricoes
WHERE Estudantes.estudante_id = Inscricoes.estudante_id
AND Disciplinas.disciplina_id = Inscricoes.disciplina_id;

-- Estudantes matriculados em Banco de Dados
SELECT Estudantes.nome_estudante
FROM Estudantes, Disciplinas, Inscricoes
WHERE Estudantes.estudante_id = Inscricoes.estudante_id
AND Disciplinas.disciplina_id = Inscricoes.disciplina_id
AND Disciplinas.nome_disciplina = 'Banco de Dados';

-- Disciplinas com carga horária diferente de 60
SELECT * 
FROM Disciplinas 
WHERE carga_horas <> 60;

-- Estudantes de São Paulo ou Rio de Janeiro
SELECT nome_estudante, cidade_estudante 
FROM Estudantes 
WHERE cidade_estudante = 'São Paulo' 
OR cidade_estudante = 'Rio de Janeiro';
